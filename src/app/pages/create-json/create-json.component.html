<tf-ng-card>

  <tf-ng-card-content>


	  <form nz-form [formGroup]="jsonForm" nzLayout="vertical" (ngSubmit)="submitForm()">

      <h3 nz-typography>Create JSON</h3>

      <nz-divider></nz-divider>

        <nz-form-item>
          <nz-form-label nzFor="about">Meta data</nz-form-label>
          <nz-form-control>
            <textarea rows="2" nz-input placeholder="Add the meta data" formControlName="meta" ></textarea>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label nzFor="about">Schema data</nz-form-label>
          <nz-form-control>
            <textarea rows="8" nz-input placeholder="Add the schema data" formControlName="schema" ></textarea>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label nzFor="about">Model data</nz-form-label>
          <nz-form-control>
            <textarea rows="2" nz-input placeholder="Add the model data (optional)" formControlName="model" ></textarea>
          </nz-form-control>
        </nz-form-item>


        <div nz-row nzJustify="space-between">
          <button nz-button class="outline-aqua" (click)="onPreviewJson()">
            <i nz-icon nzType="code" nzTheme="outline"></i>
            Preview JSON
          </button>
          <button nz-button nzType="primary"
            [nzLoading]="loading"
          >{{
            loading ? 'Creating' : 'Create'
          }}</button>

        </div>


        <div class="form-message" nz-row nzJustify="space-between" *ngIf="saved">
          <p nz-typography>SUCCESS, JSON saved, show in rendered form</p>
          <button nz-button nzType="secondary" routerLink="/form-state"
          >Render Form</button>

        </div>

        <div class="form-message" nz-row nzJustify="space-between" *ngIf="error">
          <p nz-typography class="red">ERROR, the JSON didn't save</p>
        </div>

      </form>


  </tf-ng-card-content>

</tf-ng-card>
